<ScreenManagement>:
    MainScreen:
    DeathmatchScreen:
    RunDeathmatchScreen:
    SoccerScreen:
    RunSoccerScreen:

<MainScreen>:
    name: 'main'
    data: app.data
    GridLayout:
        rows:2
        Label:
            text: 'Select your battle box game mode:'
            font_size: 40

        BoxLayout:
            Button:
                on_release:
                    app.root.current = 'deathmatch'
                    root.manager.transition.direction = 'left'
                    app.data.current = app.data.death_match
                text: 'Deathmatch'
                font_size: 24

            Button:
                on_release:
                    app.root.current = 'soccer'
                    root.manager.transition.direction = 'left'
                    app.data.current = app.data.soccer_match
                text: 'Soccer'
                font_size: 24

<CustomDropDown>:
    Button: 
        text: 'Drop Both'
        size_hint_y: None
        height: 80
        on_release:
            root.select('Drop Both')
    Button: 
        text: 'Doors Always Open'
        size_hint_y: None
        height: 80
        on_release:
            root.select('Doors Always Open')
    Button: 
        text: 'Drop Red Player Door Only'
        size_hint_y: None
        height: 80
        on_release:
            root.select('Drop Red Player Door Only')
    Button: 
        text: 'Drop Blue Player Door Only'
        size_hint_y: None
        height: 80
        on_release:
            root.select('Drop Blue Player Door Only')
    Button: 
        text: 'Drop Random Door'
        size_hint_y: None
        height: 80
        on_release:
            root.select('Drop Random Door')


<DeathmatchScreen>:
    name: 'deathmatch'
    ScrollView:
        size_hint_y: 1
        do_scroll_x: False
        do_scroll_y: True
        StackLayout:
            size_hint: [1, 1.66]
            Label:
                text: 'Configure deathmatch:'
                font_size: 40
                size_hint: [1, .07]
            GridLayout:
                size_hint: [1, .055]
                cols:2
                Label:
                    size_hint: [1, .055]
                    text: "Match Duration (Seconds):"
                    font_size: 30
                    halign: "left"
                TextInput:
                    size_hint: [1, .055]
                    input_filter: "int"
                    multiline: False
                    text: app.data.death_match.duration
                    on_text: app.data.death_match.on_duration(args[0], args[1])
                    font_size: 30
                    halign: "left"
            DropdownDemo:
                size_hint: [1, .055]
                padding: 0
                spacing: 0
                cols: 2
            GridLayout:
                size_hint: [1, .055]
                cols:2
                Label:
                    size_hint: [1, .055]
                    text: "Door drop timer:"
                    font_size: 30
                    halign: "left"
                TextInput:
                    size_hint: [1, .055]
                    input_filter: "int"
                    multiline: False
                    text: app.data.death_match.door_drop_duration
                    on_text: app.data.death_match.on_door_drop_duration(args[0], args[1])
                    font_size: 30
                    halign: "left"
            GridLayout:
                size_hint: [1, .055]
                cols:2
                Label:
                    text: "Player One Name"
                    font_size: 30
                    halign: "left"
                    size_hint: [1, .055]
                TextInput:
                    multiline: False
                    text: ""
                    font_size: 30
                    halign: "left"
                    size_hint: [1, .055]
            GridLayout:
                size_hint: [1, .055]
                cols:2
                Label:
                    size_hint: [1, .055]
                    text: "Player Two Name"
                    font_size: 30
                    halign: "left"
                TextInput:
                    size_hint: [1, .055]
                    multiline: False
                    text: ""
                    font_size: 30
                    halign: "left"
            GridLayout:
                size_hint: [1, .22]
                cols:2
                Button:
                    text: 'back'
                    size_hint: [1, .22]
                    on_release:
                        app.root.current = 'main'
                        root.manager.transition.direction = 'right'
                        app.on_switch_to_main()
                    font_size: 30
                Button:
                    text: 'Battle'
                    size_hint: [1, .22]
                    on_release:
                        app.root.current = 'RunDeathmatch'
                        root.manager.transition.direction = 'left'
                    font_size: 30


<SoccerScreen>:
    name: 'soccer'
    ScrollView:
        size_hint_y: 1
        do_scroll_x: False
        do_scroll_y: True
        StackLayout:
            size_hint: [1, 1.66]
            Label:
                text: 'Configure Soccer Match:'
                font_size: 40
                size_hint: [1, .07]
            GridLayout:
                size_hint: [1, .165]
                cols:2
                Label:
                    size_hint: [1, .055]
                    text: "Match Duration (Seconds):"
                    font_size: 30
                    halign: "left"
                TextInput:
                    size_hint: [1, .055]
                    input_filter: "int"
                    multiline: False
                    text: "300"
                    font_size: 30
                    halign: "left"
                Label:
                    size_hint: [1, .055]
                    text: "Points:"
                    font_size: 30
                    halign: "left"
                TextInput:
                    size_hint: [1, .055]
                    input_filter: "int"
                    multiline: False
                    text: "5"
                    font_size: 30
                    halign: "left"
                Label:
                    text: "Team One Name"
                    font_size: 30
                    halign: "left"
                    size_hint: [1, .055]
                TextInput:
                    text: ""
                    font_size: 30
                    multiline: False
                    halign: "left"
                    multiline: False
                    size_hint: [1, .055]
            GridLayout:
                size_hint: [1, .055]
                cols:2
                Label:
                    size_hint: [1, .055]
                    text: "Team Two Name"
                    font_size: 30
                    halign: "left"
                TextInput:
                    size_hint: [1, .055]
                    multiline: False
                    text: ""
                    font_size: 30
                    halign: "left"
            GridLayout:
                size_hint: [1, .22]
                cols:2
                Button:
                    text: 'back'
                    size_hint: [1, .22]
                    on_release:
                        app.root.current = 'main'
                        root.manager.transition.direction = 'right'
                        app.on_switch_to_main()
                    font_size: 30
                Button:
                    text: 'Start Game'
                    size_hint: [1, .22]
                    on_release:
                        app.root.current = 'RunSoccer'
                        root.manager.transition.direction = 'left'
                    font_size: 30

<RunSoccerScreen>
    name: "RunSoccer"
    StackLayout:
        Label:
            size_hint: [1, .1]
            text: "Soccer Match"
            font_size: 30
        GridLayout:
            size_hint: [1, .9]
            rows:2
            Button:
                text: 'Team 1\nScored'
                font_size: 30

            Button:
                text: 'Team 1\nWins'
                font_size: 30

            Button:
                text: 'Manually\nAdjust\nScore'
                font_size: 30

            Button:
                text: 'Reconfigure'
                on_release:
                    app.root.current = 'soccer'
                    root.manager.transition.direction = 'right'
                font_size: 30

            Button:
                text: 'Team 2\nScored'
                font_size: 30
        
            Button:
                text: 'Team 2\nWins'
                font_size: 30

            Button:
                text: 'Pause\nGame'
                font_size: 30

            Button:
                text: 'Scrub Match'
                on_release:
                    app.root.current = 'main'
                    root.manager.transition.direction = 'left'
                    app.on_switch_to_main()
                font_size: 30


<RunDeathmatchScreen>
    name: 'RunDeathmatch'
    StackLayout:
        Label:
            size_hint: [1, .1]
            text: "Deathmatch"
            font_size: 30
        GridLayout:
            size_hint: [1, .9]
            rows:2
            Button:
                text: 'Player 1 Won'
                font_size: 30
        
            Button:
                text: 'Player 2 Won'
                font_size: 30

            Button:
                text: 'Reconfigure'
                on_release:
                    app.root.current = 'deathmatch'
                    root.manager.transition.direction = 'right'
                font_size: 30

            Button:
                text: 'Scrub Match'
                on_release:
                    app.root.current = 'main'
                    root.manager.transition.direction = 'left'
                    app.on_switch_to_main()
                font_size: 30